    :root{
      --bg:#0f1724; --card:#0b1220; --muted:#94a3b8; --accent:#38bdf8; --glass: rgba(255,255,255,0.04);
      --gap:12px;
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    html,body{height:100%;margin:0;background:linear-gradient(180deg,#071022 0%, #0f1a2b 100%);color:#e6eef8}
    .app{max-width:1200px;margin:20px auto;padding:20px;display:grid;grid-template-columns:1fr;gap:18px}
    header{display:flex;justify-content:space-between;align-items:center;gap:12px}
    h1{margin:0;font-size:1.6rem;letter-spacing:0.2px}
    .meta{color:var(--muted);font-size:0.95rem}

    /* grid boxes */
    .grid{display:grid;grid-template-columns:repeat(12,1fr);gap:var(--gap)}
    .card{background:var(--card);border-radius:10px;padding:14px;box-shadow:0 6px 18px rgba(2,6,23,0.6);}
    .card.small{padding:12px}
    .span-1{grid-column:span 1}
    .span-2{grid-column:span 2}
    .span-3{grid-column:span 3}
    .span-4{grid-column:span 4}
    .span-5{grid-column:span 5}
    .span-6{grid-column:span 6}
    .span-7{grid-column:span 7}
    .span-9{grid-column:span 9}
    .span-12{grid-column:span 12}

    /* VPV, PPV, PCW box */
    .kpis{
  	display:flex;
  	flex-direction:column; /* ⬅️ de arriba hacia abajo */
  	gap:10px;
    }
    .kpi{
  	background:var(--glass);
  	padding:10px;
  	border-radius:8px;
  	text-align:center;
    }
    .kpi .label{font-size:0.9rem;color:var(--muted)}
    .kpi .value{font-size:1.5rem;margin-top:6px}

    /* small stat rows */
    .row{display:flex;gap:10px;align-items:center}
    .stat{flex:1;padding:10px;background:rgba(255,255,255,0.02);border-radius:8px;align-items: center;text-align:center;}
    .stat .slabel{color:var(--muted);font-size:0.85rem;align-items: center;text-align:center;}
    .stat .sval{font-weight:600;margin-top:6px;align-items: center;text-align:center;}

    canvas{width:100% !important; height:260px !important;padding:5px;/*display:block */} 
    
    .compact canvas{width:160px !important}

    footer{color:var(--muted);font-size:0.85rem;text-align:left}

    .span-3 button {
      padding: 10px 10px;
      margin: 0 10px;
      font-size: 16px;
      cursor: pointer;
      border: none;
      background-color: rgba(255,255,255,0.1);
      color: whitesmoke;
      font-weight: 700;
      text-align: center;
      border-radius: 8px;
      transition: background-color 0.3s ease;
    }

    .span-3 button:hover {
      background-color: navy;
    }

@media (max-width:480px){
  .grid{
    grid-template-columns:repeat(6,1fr);
    align-items:start;
  }

  .span-3,
  .span-4,
  .span-6,
  .span-7{
    grid-column:span 12;
  }

  .card.span-6{
    position: relative;
    align-self:start;
    height: 320px; /* o auto si prefieres */
    grid-column:span 12;
  }

  /* KPIs */
  .kpis{flex-direction: row;align-items: start;}
  .kpi{
    flex:1;
    padding:10px;
    background:rgba(255,255,255,0.02);
    border-radius:6px;
    align-items:start;
  }

  .label{color:var(--muted);font-size:0.85rem;}
  .value{font-weight:600;margin-top:6px;}

  /* CANVAS: aquí se arregla todo */
  .card.span-6 canvas{
    position:static !important;
    width:100%;
    /*height:220px !important;
    display:block;*/
  }
  .card {
    overflow: hidden;   /* evita que el contenido sobresalga visualmente */
  }

  .card span-6, .card.span-6 {
    z-index: 0;       /* asegura que no flote por encima de otras */
  }
  
  .card.span-3 {
    z-index: 2;
    align-self: start; /* queda siempre encima */

  }
}